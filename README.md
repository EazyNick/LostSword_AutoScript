# LostSword_AutoScript

μλ™ν™”λ¥Ό μ„ν• FastAPI μ„λ²„μ™€ μ›Ή κΈ°λ° UI λ„κµ¬μ…λ‹λ‹¤.

## π“Έ μ›Ή UI λ―Έλ¦¬λ³΄κΈ°
![μ›Ή UI μ¤ν¬λ¦°μƒ·](assets/readme/web_ui.png)

## μ‹μ¤ν… μ”κµ¬μ‚¬ν•­

- **Python**: 3.10.6 (tags/v3.10.6:9c7b4bd, Aug 1 2022, 21:53:49) [MSC v.1932 64 bit (AMD64)] on win32
- **μ΄μμ²΄μ **: Windows 10/11
- **λ©”λ¨λ¦¬**: μµμ† 4GB RAM κ¶μ¥
- **λ””μ¤ν¬**: μµμ† 1GB μ—¬μ  κ³µκ°„

## ν”„λ΅μ νΈ κµ¬μ΅°

```
LostSword_AutoScript/
β”β”€β”€ server/                 # FastAPI μ„λ²„
β”‚   β”β”€β”€ main.py             # λ©”μΈ μ„λ²„ νμΌ
β”‚   β”β”€β”€ config.py           # μ„¤μ • κ΄€λ¦¬
β”‚   β”β”€β”€ requirements.txt    # Python μμ΅΄μ„±
β”‚   β”β”€β”€ env.example        # ν™κ²½ λ³€μ μμ 
β”‚   β””β”€β”€ game_automation/   # κ²μ„ μλ™ν™” λ¨λ“
β”‚       β”β”€β”€ __init__.py
β”‚       β”β”€β”€ screen_capture.py    # ν™”λ©΄ μΊ΅μ² λ° μ΄λ―Έμ§€ μ²λ¦¬
β”‚       β”β”€β”€ input_handler.py    # μ…λ ¥ μ²λ¦¬ (λ§μ°μ¤, ν‚¤λ³΄λ“)
β”‚       β”β”€β”€ game_state.py       # κ²μ„ μƒνƒ κ΄€λ¦¬
β”‚       β””β”€β”€ workflow_engine.py  # μ›ν¬ν”λ΅μ° μ‹¤ν–‰ μ—”μ§„
β”β”€β”€ UI/                    # μ›Ή κΈ°λ° UI
β”‚   β””β”€β”€ src/
β”‚       β”β”€β”€ index.html     # λ©”μΈ HTML
β”‚       β”β”€β”€ js/           # JavaScript λ¨λ“λ“¤
β”‚       β”β”€β”€ styles/       # CSS μ¤νƒ€μΌλ“¤
β”‚       β””β”€β”€ pages/        # νμ΄μ§€λ³„ νμΌλ“¤
β””β”€β”€ README.md
```

## κΈ°λ¥

### λ°±μ—”λ“ (FastAPI)
- **κ²μ„ μ•΅μ… API**: ν΄λ¦­, μ΄λ™, μμ§‘, μ „ν¬, λ„¤λΉ„κ²μ΄μ… λ“±
- **μ›ν¬ν”λ΅μ° μ—”μ§„**: λ…Έλ“ κΈ°λ° μλ™ν™” μ¤ν¬λ¦½νΈ μ‹¤ν–‰
- **ν™”λ©΄ μΊ΅μ²**: κ²μ„ ν™”λ©΄ μΊ΅μ² λ° μ΄λ―Έμ§€ λ§¤μΉ­
- **μ…λ ¥ μ²λ¦¬**: λ§μ°μ¤/ν‚¤λ³΄λ“ μλ™ν™”
- **κ²μ„ μƒνƒ κ΄€λ¦¬**: ν”λ μ΄μ–΄ μ •λ³΄, μΈλ²¤ν† λ¦¬, μ„μΉ λ“± μ¶”μ 

### ν”„λ΅ νΈμ—”λ“ (μ›Ή κΈ°λ°)
- **μ›ν¬ν”λ΅μ° νΈμ§‘κΈ°**: μ‹κ°μ  λ…Έλ“ κΈ°λ° μ¤ν¬λ¦½νΈ νΈμ§‘
- **μ•΅μ… κ΄€λ¦¬**: λ‹¤μ–‘ν• κ²μ„ μ•΅μ… κ΄€λ¦¬ λ° μ‹¤ν–‰
- **κ²μ„ μƒνƒ λ¨λ‹ν„°λ§**: μ‹¤μ‹κ°„ κ²μ„ μƒνƒ μ¶”μ 
- **ν‚¤λ³΄λ“ λ‹¨μ¶•ν‚¤**: μ €μ¥(Ctrl+S), λ…Έλ“ μ¶”κ°€(Ctrl+N), μ‹¤ν–‰(F5/Ctrl+R) λ“±

## μ„¤μΉ λ° μ‹¤ν–‰

### κ°λ°μμ© μ„¤μΉ

1. **κ°€μƒν™κ²½ μƒμ„±**:
   ```bash
   python -m venv venv
   venv\Scripts\activate
   ```

2. **ν¨ν‚¤μ§€ μ„¤μΉ**:
   ```bash
   cd server
   pip install -r requirements.txt
   ```

3. **μ„λ²„ μ‹¤ν–‰**:
   ```bash
   cd server
   python -m uvicorn main:app --reload --host 0.0.0.0 --port 8000
   ```

4. **μ›Ή λΈλΌμ°μ €μ—μ„ `http://localhost:8000` μ ‘μ†**


## API μ—”λ“ν¬μΈνΈ

### κΈ°λ³Έ μ—”λ“ν¬μΈνΈ
- `GET /` - μ„λ²„ μƒνƒ ν™•μΈ
- `GET /health` - ν—¬μ¤ μ²΄ν¬

### κ²μ„ μ•΅μ…
- `POST /api/action` - λ‹¨μΌ μ•΅μ… μ‹¤ν–‰
- `POST /api/execute-nodes` - λ…Έλ“ κΈ°λ° μ›ν¬ν”λ΅μ° μ‹¤ν–‰
- `GET /api/game-state` - ν„μ¬ κ²μ„ μƒνƒ μ΅°ν

### μ”μ²­ μμ 

#### λ‹¨μΌ μ•΅μ… μ‹¤ν–‰
```json
POST /api/action
{
    "action_type": "click",
    "parameters": {
        "x": 100,
        "y": 200,
        "button": "left",
        "clicks": 1
    }
}
```

#### μ›ν¬ν”λ΅μ° μ‹¤ν–‰
```json
POST /api/execute-nodes
{
    "nodes": [
        {
            "id": "node1",
            "type": "click",
            "data": {
                "x": 100,
                "y": 200
            }
        },
        {
            "id": "node2",
            "type": "move",
            "data": {
                "direction": "forward",
                "distance": 1
            }
        }
    ],
    "execution_mode": "sequential"
}
```

## μ›ν¬ν”λ΅μ° λ…Έλ“ νƒ€μ…

- **click**: λ§μ°μ¤ ν΄λ¦­
- **move**: μΊλ¦­ν„° μ΄λ™
- **collect**: μ•„μ΄ν… μμ§‘
- **battle**: μ „ν¬ μν–‰
- **navigate**: λ§µ μ΄λ™
- **wait**: λ€κΈ°
- **condition**: μ΅°κ±΄λ¶€ μ‹¤ν–‰
- **loop**: λ°λ³µ μ‹¤ν–‰
- **custom**: μ»¤μ¤ν…€ μ•΅μ…

## λ¬Έμ„

### μ‚¬μ©μ κ°€μ΄λ“
- **[λ°μ΄ν„°λ² μ΄μ¤ μ‚¬μ© κ°€μ΄λ“](docs/database.md)**: λ°μ΄ν„°λ² μ΄μ¤ μ‚¬μ© λ° μƒν” λ°μ΄ν„° μ‚½μ… λ°©λ²•

### κ°λ°μ κ°€μ΄λ“
- **[κ°λ°μ κ°€μ΄λ“](docs/dev/development.md)**: κ°λ° ν™κ²½ μ„¤μ •, μ„λ²„ μ‹¤ν–‰, λ°°ν¬ λ°©λ²•
- **[λ…Έλ“ μ¶”κ°€ κ°€μ΄λ“](docs/dev/node.md)**: μƒλ΅μ΄ λ…Έλ“ νƒ€μ…μ„ μ¶”κ°€ν•λ” λ°©λ²•μ— λ€ν• μƒμ„Έ κ°€μ΄λ“
- **[ν™κ²½ λ³€μ μ„¤μ •](docs/dev/environment.md)**: κ°λ°/ν”„λ΅λ•μ… λ¨λ“ ν™κ²½ λ³€μ μ„¤μ •
- **[μ›ν¬ν”λ΅μ° κµ¬μ΅°](docs/dev/workflow-structure.md)**: μ›ν¬ν”λ΅μ° νμ΄μ§€ μ½”λ“ κµ¬μ΅° μ„¤λ…

## κ°λ° κ°€μ΄λ“

### μƒλ΅μ΄ μ•΅μ… νƒ€μ… μ¶”κ°€

1. `server/game_automation/workflow_engine.py`μ—μ„ μƒλ΅μ΄ ν•Έλ“¤λ¬ μ¶”κ°€
2. `server/main.py`μ—μ„ μ•΅μ… μ²λ¦¬ ν•¨μ κµ¬ν„
3. UIμ—μ„ μΈν„°νμ΄μ¤ μ—…λ°μ΄νΈ

### μƒλ΅μ΄ λ…Έλ“ νƒ€μ… μ¶”κ°€

μƒλ΅μ΄ λ…Έλ“ νƒ€μ…μ„ μ¶”κ°€ν•λ” λ°©λ²•μ€ **[λ…Έλ“ μ¶”κ°€ κ°€μ΄λ“](docs/dev/node.md)**λ¥Ό μ°Έκ³ ν•μ„Έμ”.

κ°„λ‹¨ν μ”μ•½ν•λ©΄:
1. `UI/src/pages/workflow/config/nodes.config.js` νμΌμ— λ…Έλ“ μ •λ³΄ μ¶”κ°€
2. `UI/src/js/components/node/` λ””λ ‰ν† λ¦¬μ— λ…Έλ“ κΈ°λ¥ κµ¬ν„ νμΌ μƒμ„± (`node-{λ…Έλ“μ΄λ¦„}.js`)
3. μ„λ²„ μΈ΅(`server/game_automation/workflow_engine.py`)μ—μ„ λ…Έλ“ μ‹¤ν–‰ λ΅μ§ κµ¬ν„

μμ„Έν• λ‚΄μ©μ€ [λ…Έλ“ μ¶”κ°€ κ°€μ΄λ“](docs/dev/node.md)λ¥Ό ν™•μΈν•μ„Έμ”.

## λΌμ΄μ„ μ¤

Apache-2.0 license

## κΈ°μ—¬

μ΄μ λ° ν’€ λ¦¬ν€μ¤νΈλ¥Ό ν™μν•©λ‹λ‹¤.

## μ£Όμμ‚¬ν•­

- μ΄ λ„κµ¬λ” κµμ΅ λ° μ—°κµ¬ λ©μ μΌλ΅λ§ μ‚¬μ©λμ–΄μ•Ό ν•©λ‹λ‹¤
- κ²μ„μ μ΄μ©μ•½κ΄€μ„ μ¤€μν•μ—¬ μ‚¬μ©ν•μ„Έμ”
- μλ™ν™” μ‚¬μ©μΌλ΅ μΈν• κ³„μ • μ μ¬μ— λ€ν• μ±…μ„μ€ μ‚¬μ©μμ—κ² μμµλ‹λ‹¤
