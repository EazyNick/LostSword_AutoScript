/* ========================================== */
/* 워크플로우 페이지 전용 스타일 */
/* ========================================== */

/* ========================================== */
/* 메인 레이아웃 */
/* ========================================== */

/* 메인 컨텐츠 영역: 헤더 아래 전체 공간을 차지 */
.main-content {
    flex: 1; /* 남은 공간을 모두 차지 */
    display: flex; /* 플렉스박스 레이아웃 */
    height: calc(100vh - 80px); /* 전체 화면 높이에서 헤더 높이(80px) 제외 */
}

/* ========================================== */
/* 워크플로우 영역 */
/* ========================================== */

/* 워크플로우 영역: 메인 캔버스가 들어가는 공간 */
.workflow-area {
    flex: 1; /* 사이드바를 제외한 남은 공간을 모두 차지 */
    position: relative; /* 미니맵의 절대 위치 기준점 */
    background-color: #1a202c; /* 어두운 배경색 */

    /* 격자 패턴 배경: 점들이 격자 형태로 배치된 패턴 */
    background-image: radial-gradient(circle at 1px 1px, rgba(255, 255, 255, 0.1) 1px, transparent 0);
    background-size: 20px 20px; /* 격자 크기: 20x20 픽셀 */

    overflow: auto; /* 스크롤 가능하게 설정 */

    /* 부모 컨테이너 크기 고정 - 절대 크기로 설정 */
    width: 100%;
    height: 100%;
    min-width: 0; /* 플렉스 아이템이 축소될 수 있도록 */
    min-height: 0; /* 플렉스 아이템이 축소될 수 있도록 */
    z-index: 1; /* 사이드바 리사이즈 핸들보다 낮게 */
}

/* 워크플로우 캔버스: 노드들이 배치되는 메인 영역 */
.workflow-canvas {
    /* 피그마 방식: Transform 기반 패닝 */
    position: absolute; /* 절대 위치로 설정 */
    top: 0;
    left: 0;
    width: 100%; /* 부모 컨테이너 전체 크기 */
    height: 100%; /* 부모 컨테이너 전체 크기 */
    overflow: hidden; /* 스크롤바 숨김 */
    cursor: grab; /* 드래그 가능한 커서 */
    transform-origin: 0 0; /* Transform 기준점 */
    z-index: 1; /* 사이드바 리사이즈 핸들보다 낮게 */
}

/* 캔버스 내부 콘텐츠 컨테이너 */
.canvas-content {
    position: absolute;
    top: 0;
    left: 0;
    width: 100000px; /* 무한 캔버스 크기 */
    height: 100000px; /* 무한 캔버스 크기 */
    transform-origin: 0 0; /* Transform 기준점 */
}

/* ========================================== */
/* 패닝 모드 (마우스 휠로 화면 이동) */
/* ========================================== */

/* 패닝 모드: 마우스 휠 버튼을 누르고 드래그할 때 */
.workflow-canvas.panning {
    cursor: grabbing !important; /* 드래그 중 커서로 변경 */
    user-select: none; /* 텍스트 선택 방지 */

    /* 스크롤바 숨김 (모든 브라우저 지원) */
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE and Edge */
}

.workflow-canvas.panning::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Opera */
}

/* 패닝 중에는 텍스트 선택만 방지 (pointer-events는 제거하여 패닝 동작 보장) */
.workflow-canvas.panning * {
    user-select: none; /* 텍스트 선택 방지 */
}

/* ========================================== */
/* 줌 모드 (Ctrl + 마우스 휠로 확대/축소) */
/* ========================================== */

/* 줌 모드: 줌 가능한 상태임을 나타내는 커서 */
.workflow-canvas.zooming {
    cursor: zoom-in; /* 확대 커서 */
}

.workflow-canvas.zooming:hover {
    cursor: zoom-out; /* 축소 커서 */
}

/* ========================================== */
/* SVG 연결선 컨테이너 */
/* ========================================== */

/* 연결선을 그리는 SVG 컨테이너 */
.connection-svg {
    position: absolute !important; /* 절대 위치 (노드 위에 표시) */
    top: 0 !important; /* 캔버스 상단에 고정 */
    left: 0 !important; /* 캔버스 좌측에 고정 */
    width: 100% !important; /* 캔버스 전체 너비 */
    height: 100% !important; /* 캔버스 전체 높이 */
    pointer-events: none !important; /* 마우스 이벤트 무시 (노드 클릭 방해 방지) */
    z-index: 1 !important; /* 노드들 위에 표시 */
    overflow: visible !important; /* 연결선이 영역 밖으로 나가도 표시 */
}

/* ========================================== */
/* 워크플로우 노드 */
/* ========================================== */

/* 워크플로우 노드 기본 스타일 */
.workflow-node {
    position: absolute; /* 절대 위치 (캔버스 내에서 자유 배치) */
    min-width: 200px; /* 최소 노드 너비 */
    width: auto; /* 너비 자동 조정 */
    min-height: 80px; /* 최소 노드 높이 */
    height: auto; /* 높이 자동 조정 */
    max-height: calc(1.2em * 5 + 40px); /* 최대 5줄까지 높이 증가 (제목+설명 최대 5줄 + 아이콘박스+패딩) */
    border-radius: 12px; /* 둥근 모서리 */
    cursor: move; /* 드래그 가능함을 나타내는 커서 */
    transition: all 0.3s ease; /* 부드러운 전환 효과 */
    display: flex; /* 플렉스박스 레이아웃 */
    align-items: center; /* 세로 중앙 정렬 */
    justify-content: flex-start; /* 왼쪽 정렬 (아이콘 왼쪽, 텍스트 오른쪽) */
    padding: 12px 15px; /* 상하좌우 여백 */
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2); /* 그림자 효과 */
    animation: fadeIn 0.5s ease-out; /* 생성 시 페이드인 애니메이션 */
}

/* 노드 호버 효과: 마우스를 올렸을 때 */
.workflow-node:hover {
    transform: translateY(-2px); /* 살짝 위로 이동 */
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3); /* 그림자 강화 */
}

/* ========================================== */
/* 노드 색상 테마 */
/* ========================================== */

/* 파란색 노드: 일반 액션 노드 */
.node-blue {
    background: #3182ce; /* 파란색 배경 */
    border: 2px solid #2c5282; /* 진한 파란색 테두리 */
}

/* 주황색 노드: 조건 노드 */
.node-orange {
    background: #ed8936; /* 주황색 배경 */
    border: 2px solid #dd6b20; /* 진한 주황색 테두리 */
}

/* 초록색 노드: 성공/완료 노드 */
.node-green {
    background: #38a169; /* 초록색 배경 */
    border: 2px solid #2f855a; /* 진한 초록색 테두리 */
}

/* 보라색 노드: 특별한 기능 노드 */
.node-purple {
    background: #805ad5; /* 보라색 배경 */
    border: 2px solid #6b46c1; /* 진한 보라색 테두리 */
}

/* 빨간색 노드: 에러 처리 노드 및 종료 노드 */
.node-red {
    background: #e53e3e; /* 빨간색 배경 */
    border: 2px solid #c53030; /* 진한 빨간색 테두리 */
}

/* 회색 노드: 종료 노드 */
.node-gray {
    background: #718096; /* 회색 배경 */
    border: 2px solid #4a5568; /* 진한 회색 테두리 */
}

/* 청록색 노드: 시작 노드 (색상 변경: green → teal) */
.node-teal {
    background: #14b8a6; /* 청록색 배경 */
    border: 2px solid #0d9488; /* 진한 청록색 테두리 */
}

/* 청록색 노드: 시작 노드 */
.node-teal {
    background: #14b8a6; /* 청록색 배경 */
    border: 2px solid #0d9488; /* 진한 청록색 테두리 */
}

/* ========================================== */
/* 노드 내부 요소들 */
/* ========================================== */

/* 입력 연결점: 다른 노드에서 이 노드로 연결되는 지점 */
.node-input {
    width: 12px; /* 연결점 크기 */
    height: 12px; /* 연결점 크기 */
    background-color: #60a5fa; /* 파란색 연결점 */
    border-radius: 50%; /* 원형 */
    border: 2px solid #ffffff; /* 흰색 테두리 */
    position: absolute; /* 절대 위치 */
    left: -6px; /* 노드 왼쪽 밖에 배치 */
    top: 50%; /* 세로 중앙 */
    transform: translateY(-50%); /* 정확한 중앙 정렬 */
    transition: all 0.3s ease; /* 부드러운 전환 효과 */
}

/* 조건 노드의 입력점은 노란색으로 구분 */
.node-orange .node-input {
    background-color: #fbbf24; /* 노란색 연결점 */
}

/* 입력점 호버 효과 */
.node-input:hover {
    transform: translateY(-50%) scale(1.2); /* 크기 확대 */
    background-color: #ffd700; /* 금색으로 변경 */
    box-shadow: 0 0 10px rgba(255, 215, 0, 0.8); /* 발광 효과 */
}

/* 연결 중인 입력점 */
.node-input.connecting {
    background-color: #ff6b35; /* 주황색으로 변경 */
    transform: translateY(-50%) scale(1.3); /* 더 크게 확대 */
    box-shadow: 0 0 15px rgba(255, 107, 53, 0.9); /* 강한 발광 효과 */
}

/* 노드 메인 컨텐츠 영역 */
.node-content {
    flex: 1; /* 남은 공간을 모두 차지 */
    display: flex; /* 플렉스박스 레이아웃 */
    align-items: center; /* 세로 중앙 정렬 */
    gap: 12px; /* 아이콘 박스와 텍스트 사이 간격 */
    padding: 0 10px; /* 좌우 여백 */
    flex-direction: row; /* 가로 방향 배치 */
}

/* 노드 아이콘 박스 (왼쪽 색상 박스) */
.node-icon-box {
    width: 40px; /* 아이콘 박스 너비 */
    height: 40px; /* 아이콘 박스 높이 */
    display: flex; /* 플렉스박스 */
    align-items: center; /* 세로 중앙 정렬 */
    justify-content: center; /* 가로 중앙 정렬 */
    border-radius: 8px; /* 둥근 모서리 */
    background-color: rgba(255, 255, 255, 0.2); /* 반투명 흰색 배경 */
    flex-shrink: 0; /* 크기 고정 */
}

/* 노드 아이콘 (조건 노드 등에 사용) */
.node-icon {
    font-size: 20px; /* 아이콘 크기 */
    display: flex; /* 플렉스박스 */
    align-items: center; /* 세로 중앙 정렬 */
    justify-content: center; /* 가로 중앙 정렬 */
    color: #ffffff; /* 흰색 아이콘 */
}

/* 노드 텍스트 영역 (오른쪽) */
.node-text-area {
    display: flex; /* 플렉스박스 */
    flex-direction: column; /* 세로 방향 배치 */
    align-items: flex-start; /* 왼쪽 정렬 */
    justify-content: center; /* 세로 중앙 정렬 */
    flex: 1; /* 남은 공간 차지 */
    min-width: 0; /* 텍스트 영역이 축소될 수 있도록 */
    overflow: hidden; /* 넘치는 텍스트 숨김 */
}

/* 노드 제목 */
.node-title {
    font-size: 14px; /* 제목 크기 */
    font-weight: 600; /* 굵은 글씨 */
    color: #ffffff; /* 흰색 텍스트 */
    text-align: left; /* 왼쪽 정렬 */
    line-height: 1.4; /* 줄 간격 */
    word-wrap: break-word; /* 긴 단어 줄바꿈 */
    overflow-wrap: break-word; /* 긴 단어 줄바꿈 */
    white-space: normal; /* 줄바꿈 허용 */
    width: 100%; /* 전체 너비 사용 */
    max-height: calc(1.4em * 3); /* 최대 3줄 (제목) */
    overflow: hidden; /* 넘치는 텍스트 숨김 */
    display: -webkit-box; /* 웹킷 박스 모델 */
    -webkit-line-clamp: 3; /* 최대 3줄 */
    -webkit-box-orient: vertical; /* 세로 방향 */
}

/* 노드 설명 (서브타이틀) */
.node-description {
    font-size: 11px; /* 설명 크기 */
    font-weight: 400; /* 일반 글씨 */
    color: rgba(255, 255, 255, 0.9); /* 반투명 흰색 텍스트 */
    text-align: left; /* 왼쪽 정렬 */
    margin-top: 4px; /* 제목과 간격 */
    line-height: 1.4; /* 줄 간격 */
    word-wrap: break-word; /* 긴 단어 줄바꿈 */
    overflow-wrap: break-word; /* 긴 단어 줄바꿈 */
    white-space: normal; /* 줄바꿈 허용 */
    width: 100%; /* 전체 너비 사용 */
    max-height: calc(1.4em * 2); /* 최대 2줄 (설명) */
    overflow: hidden; /* 넘치는 텍스트 숨김 */
    display: -webkit-box; /* 웹킷 박스 모델 */
    -webkit-line-clamp: 2; /* 최대 2줄 */
    -webkit-box-orient: vertical; /* 세로 방향 */
}

/* 노드가 5줄을 넘을 때 가로 확장 (텍스트 길이에 따른 동적 크기 조정) */
.workflow-node.text-overflow {
    max-height: none !important; /* 높이 제한 제거 */
    width: auto; /* 가로로 확장 */
}

/* 5줄 초과 시 제목 줄 제한 해제 */
.workflow-node.text-overflow .node-title {
    max-height: none !important; /* 높이 제한 제거 */
    -webkit-line-clamp: unset !important; /* 줄 수 제한 해제 */
    display: block !important; /* 블록 표시 */
}

/* 5줄 초과 시 설명 줄 제한 해제 */
.workflow-node.text-overflow .node-description {
    max-height: none !important; /* 높이 제한 제거 */
    -webkit-line-clamp: unset !important; /* 줄 수 제한 해제 */
    display: block !important; /* 블록 표시 */
}

/* 출력 연결점: 이 노드에서 다른 노드로 연결되는 지점 */
.node-output {
    width: 12px; /* 연결점 크기 */
    height: 12px; /* 연결점 크기 */
    background-color: #60a5fa; /* 파란색 연결점 */
    border-radius: 50%; /* 원형 */
    border: 2px solid #ffffff; /* 흰색 테두리 */
    position: absolute; /* 절대 위치 */
    right: -6px; /* 노드 오른쪽 밖에 배치 */
    top: 50%; /* 세로 중앙 */
    transform: translateY(-50%); /* 정확한 중앙 정렬 */
    transition: all 0.3s ease; /* 부드러운 전환 효과 */
}

/* 출력점 호버 효과 */
.node-output:hover {
    transform: translateY(-50%) scale(1.2); /* 크기 확대 */
    background-color: #ffd700; /* 금색으로 변경 */
    box-shadow: 0 0 10px rgba(255, 215, 0, 0.8); /* 발광 효과 */
}

/* 연결 중인 출력점 */
.node-output.connecting {
    background-color: #ff6b35; /* 주황색으로 변경 */
    transform: translateY(-50%) scale(1.3); /* 더 크게 확대 */
    box-shadow: 0 0 15px rgba(255, 107, 53, 0.9); /* 강한 발광 효과 */
}

/* ========================================== */
/* 조건 노드의 다중 출력점 */
/* ========================================== */

/* 조건 노드의 출력점들 컨테이너 */
.node-outputs {
    position: absolute; /* 절대 위치 */
    right: -8px; /* 노드 오른쪽 밖에 배치 */
    top: 50%; /* 세로 중앙 */
    transform: translateY(-50%); /* 정확한 중앙 정렬 */
    display: flex; /* 플렉스박스 레이아웃 */
    flex-direction: column; /* 세로 방향 배치 */
    gap: 16px; /* 출력점들 사이 간격 */
    z-index: 10; /* 다른 요소 위에 표시 */
}

/* True/False 출력점 */
.node-output.true-output,
.node-output.false-output {
    display: flex; /* 플렉스박스 레이아웃 */
    align-items: center; /* 세로 중앙 정렬 */
    gap: 6px; /* 점과 라벨 사이 간격 */
    position: relative; /* 상대 위치 */
    padding: 2px 4px; /* 내부 여백 */
    border-radius: 4px; /* 둥근 모서리 */
    transition: all 0.2s ease; /* 부드러운 전환 효과 */
}

/* True 출력점 호버 효과 */
.node-output.true-output:hover {
    background-color: rgba(34, 197, 94, 0.2); /* 초록색 배경 */
}

/* False 출력점 호버 효과 */
.node-output.false-output:hover {
    background-color: rgba(239, 68, 68, 0.2); /* 빨간색 배경 */
}

/* 출력점 원형 도트 */
.output-dot {
    width: 20px; /* 도트 크기 (더 크게) */
    height: 20px; /* 도트 크기 */
    border-radius: 50%; /* 원형 */
    border: 2px solid #ffffff; /* 흰색 테두리 */
    transition: all 0.3s ease; /* 부드러운 전환 효과 */
    display: flex; /* 플렉스박스 */
    align-items: center; /* 세로 중앙 정렬 */
    justify-content: center; /* 가로 중앙 정렬 */
    flex-shrink: 0; /* 크기 고정 */
    cursor: pointer; /* 클릭 가능한 커서 */
}

/* 출력점 도트 호버 효과 */
.output-dot:hover {
    transform: scale(1.15); /* 크기 확대 */
    box-shadow: 0 0 10px rgba(255, 255, 255, 0.8); /* 발광 효과 */
}

/* 연결 중인 출력점 도트 */
.output-dot.connecting {
    transform: scale(1.25); /* 더 크게 확대 */
    box-shadow: 0 0 15px rgba(255, 107, 53, 0.9); /* 강한 발광 효과 */
}

/* True 출력점: 성공/참일 때 */
.true-dot {
    background-color: #22c55e; /* 초록색 */
    border-color: #16a34a; /* 진한 초록색 테두리 */
}

/* False 출력점: 실패/거짓일 때 */
.false-dot {
    background-color: #ef4444; /* 빨간색 */
    border-color: #dc2626; /* 진한 빨간색 테두리 */
}

/* 출력점 내부 심볼 (T/F) */
.output-symbol {
    font-size: 11px; /* 심볼 크기 */
    font-weight: 700; /* 굵은 글씨 */
    color: #ffffff; /* 흰색 텍스트 */
    line-height: 1; /* 줄 높이 */
    user-select: none; /* 텍스트 선택 방지 */
}

/* 출력점 라벨 (True/False 텍스트) */
.output-label {
    font-size: 11px; /* 라벨 크기 */
    color: #ffffff; /* 흰색 텍스트 */
    font-weight: 600; /* 중간 굵기 */
    white-space: nowrap; /* 줄바꿈 방지 */
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3); /* 텍스트 그림자 */
    user-select: none; /* 텍스트 선택 방지 */
}

/* ========================================== */
/* 노드 설정 버튼 */
/* ========================================== */

/* 노드 설정 버튼 (기어 아이콘) */
.node-settings {
    position: absolute; /* 절대 위치 */
    top: -8px; /* 노드 상단 밖에 배치 */
    right: -8px; /* 노드 오른쪽 밖에 배치 */
    width: 20px; /* 버튼 크기 */
    height: 20px; /* 버튼 크기 */
    background-color: #4a5568; /* 회색 배경 */
    border-radius: 50%; /* 원형 */
    display: flex; /* 플렉스박스 */
    align-items: center; /* 세로 중앙 정렬 */
    justify-content: center; /* 가로 중앙 정렬 */
    font-size: 12px; /* 아이콘 크기 */
    color: #ffffff; /* 흰색 아이콘 */
    cursor: pointer; /* 클릭 가능한 커서 */
    transition: all 0.3s ease; /* 부드러운 전환 효과 */
    opacity: 0; /* 기본적으로 숨김 */
}

/* 노드 호버 시 설정 버튼 표시 */
.workflow-node:hover .node-settings {
    opacity: 1; /* 완전히 표시 */
}

/* 설정 버튼 호버 효과 */
.node-settings:hover {
    background-color: #2d3748; /* 더 어두운 회색 */
    transform: scale(1.1); /* 크기 확대 */
}

/* ========================================== */
/* 연결선 */
/* ========================================== */

/* 연결선 컨테이너 */
.connections {
    position: absolute; /* 절대 위치 */
    top: 0; /* 캔버스 상단에 고정 */
    left: 0; /* 캔버스 좌측에 고정 */
    width: 100%; /* 캔버스 전체 너비 */
    height: 100%; /* 캔버스 전체 높이 */
    pointer-events: none; /* 마우스 이벤트 무시 */
    z-index: 1; /* 노드들 위에 표시 */
}

/* 연결선 기본 스타일 */
.connection-line {
    stroke: #60a5fa; /* 청록색 선 (이미지와 유사한 색상) */
    stroke-width: 2; /* 선 두께 */
    fill: none; /* 채우기 없음 */
    stroke-dasharray: 5, 5; /* 점선 패턴 */
    stroke-linecap: round; /* 선 끝 둥글게 */
    stroke-linejoin: round; /* 선 연결 부분 둥글게 */
    animation: dash-flow 1s linear infinite; /* 점선 흐르는 애니메이션 (반대 방향) */
    /* 화살표 제거: marker-end 속성 제거됨 */
}

/* 점선이 흐르는 애니메이션 (반대 방향: 위에서 아래로 흐름) */
@keyframes dash-flow {
    0% {
        stroke-dashoffset: 10; /* 시작 위치 (점선 패턴 크기만큼 이동) */
    }
    100% {
        stroke-dashoffset: 0; /* 끝 위치 (원래 위치로) */
    }
}

/* 실행 중인 연결선 */
.connection-line.executing {
    stroke: #ff6b35; /* 주황색 선 */
    stroke-width: 3; /* 더 두꺼운 선 */
    animation: pulse-line 1s infinite; /* 펄스 애니메이션 */
}

/* 완료된 연결선 */
.connection-line.completed {
    stroke: #2ecc71; /* 초록색 선 */
    stroke-width: 3; /* 더 두꺼운 선 */
}

/* 실패한 연결선 */
.connection-line.failed {
    stroke: #e74c3c; /* 빨간색 선 */
    stroke-width: 3; /* 더 두꺼운 선 */
}

/* ========================================== */
/* 애니메이션 */
/* ========================================== */

/* 연결선 펄스 애니메이션 */
@keyframes pulse-line {
    0% {
        stroke-opacity: 0.7; /* 투명도 70% */
    }
    50% {
        stroke-opacity: 1; /* 투명도 100% */
    }
    100% {
        stroke-opacity: 0.7; /* 투명도 70% */
    }
}

/* ========================================== */
/* 노드 상태 */
/* ========================================== */

/* 드래그 중인 노드 */
.workflow-node.dragging {
    opacity: 0.7; /* 반투명 */
    transform: scale(1.1); /* 크기 확대 */
    z-index: 1000; /* 다른 노드들 위에 표시 */
    transition: none !important; /* 드래그 중에는 위치 변경 애니메이션 비활성화 */
}

/* 선택된 노드 */
.workflow-node.selected {
    border-color: #f6e05e; /* 노란색 테두리 */
    box-shadow: 0 0 20px rgba(246, 224, 94, 0.5); /* 노란색 발광 효과 */
}

/* 실행 중인 노드 */
.workflow-node.executing {
    border-color: #ff6b35; /* 주황색 테두리 */
    box-shadow: 0 0 15px rgba(255, 107, 53, 0.5); /* 주황색 발광 효과 */
    animation: pulse-executing 1s infinite; /* 펄스 애니메이션 */
}

/* 완료된 노드 */
.workflow-node.completed {
    border-color: #2ecc71; /* 초록색 테두리 */
    box-shadow: 0 0 15px rgba(46, 204, 113, 0.5); /* 초록색 발광 효과 */
}

/* 실패한 노드 */
.workflow-node.failed,
.workflow-node.error {
    border-color: #e74c3c; /* 빨간색 테두리 */
    box-shadow: 0 0 15px rgba(231, 76, 60, 0.5); /* 빨간색 발광 효과 */
    animation: pulse-error 0.5s infinite; /* 빠른 깜빡임 애니메이션 */
}

/* 실행 중 노드 펄스 애니메이션 (깜빡깜빡) */
@keyframes pulse-executing {
    0% {
        box-shadow: 0 0 15px rgba(255, 107, 53, 0.5); /* 기본 발광 */
        border-color: #ff6b35;
    }
    50% {
        box-shadow: 0 0 25px rgba(255, 107, 53, 1); /* 강한 발광 */
        border-color: #ff8c5a;
    }
    100% {
        box-shadow: 0 0 15px rgba(255, 107, 53, 0.5); /* 기본 발광 */
        border-color: #ff6b35;
    }
}

/* 에러 노드 깜빡임 애니메이션 */
@keyframes pulse-error {
    0% {
        box-shadow: 0 0 15px rgba(231, 76, 60, 0.5);
        border-color: #e74c3c;
    }
    50% {
        box-shadow: 0 0 25px rgba(231, 76, 60, 1);
        border-color: #c0392b;
    }
    100% {
        box-shadow: 0 0 15px rgba(231, 76, 60, 0.5);
        border-color: #e74c3c;
    }
}

/* ========================================== */
/* 샘플 노드 위치 설정 (데모용) */
/* ========================================== */

/* 샘플 노드들의 초기 위치 */
#node1 {
    top: 100px; /* 상단에서 100px */
    left: 100px; /* 좌측에서 100px */
}

#node2 {
    top: 100px; /* 상단에서 100px */
    left: 350px; /* 좌측에서 350px */
}

#node3 {
    top: 100px; /* 상단에서 100px */
    left: 600px; /* 좌측에서 600px */
}

/* ========================================== */
/* 드래그 연결 관련 스타일 */
/* ========================================== */

/* 드래그 연결 중인 출력 연결점 */
.node-output.dragging-connection {
    background-color: #ff6b35 !important;
    border-color: #ff6b35 !important;
    box-shadow: 0 0 15px rgba(255, 107, 53, 0.8) !important;
    transform: translateY(-50%) scale(1.3) !important;
    z-index: 1001;
}

/* 마그네틱 하이라이트된 입력 연결점 */
.node-input.magnetic-highlight {
    background-color: #34c759 !important;
    border-color: #34c759 !important;
    box-shadow: 0 0 15px rgba(52, 199, 89, 0.8) !important;
    transform: translateY(-50%) scale(1.2) !important;
    z-index: 1001;
}

/* 연결된 연결점 스타일 */
.node-input.connected,
.node-output.connected {
    background-color: #34c759 !important;
    border-color: #34c759 !important;
    box-shadow: 0 0 8px rgba(52, 199, 89, 0.6) !important;
}

/* 임시 연결선 애니메이션 */
#temp-connection-line path {
    animation: connection-pulse 1.5s ease-in-out infinite;
}

@keyframes connection-pulse {
    0% {
        stroke-opacity: 0.6;
    }
    50% {
        stroke-opacity: 1;
    }
    100% {
        stroke-opacity: 0.6;
    }
}

/* 드래그 연결 메시지 스타일 */
#drag-connection-message {
    animation: message-fade-in 0.3s ease-out;
}

@keyframes message-fade-in {
    from {
        opacity: 0;
        transform: translateX(-50%) translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
    }
}

/* ========================================== */
/* 반응형 디자인 */
/* ========================================== */

/* 중간 크기 화면 (1200px 이하) */
@media (max-width: 1200px) {
    .workflow-node {
        width: 180px; /* 노드 크기 축소 */
        height: 70px; /* 노드 높이 축소 */
    }
}

/* 작은 화면 (768px 이하) - 모바일 */
@media (max-width: 768px) {
    .main-content {
        flex-direction: column; /* 세로 방향 배치 */
    }

    .workflow-area {
        height: calc(100vh - 280px); /* 높이 조정 */
    }

    .workflow-node {
        width: 160px; /* 노드 크기 더 축소 */
        height: 60px; /* 노드 높이 더 축소 */
    }

    .node-title {
        font-size: 12px; /* 제목 크기 축소 */
    }
}
