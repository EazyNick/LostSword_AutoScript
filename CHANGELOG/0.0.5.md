## [0.0.5] - 2025-12-21

### 기능 추가
- **로딩 오버레이 디자인 개선**: 로그 저장 대기 중 표시되는 로딩 팝업 UI/UX 개선
  - 모던한 그라데이션 배경 및 다중 회전 애니메이션 스피너 적용
  - 부드러운 fade-in/slide-up 애니메이션 효과
  - backdrop-filter 블러 효과로 배경 처리
  - 라이트/다크 테마별 스타일 지원
  - 사이드바를 제외한 메인 콘텐츠 영역 중앙 배치
  - CSS 클래스 기반 구조로 변경 (인라인 스타일 제거)
  - JavaScript 기반 dots 애니메이션으로 부드러운 텍스트 효과
- **엑셀 노드 추가**: Windows 환경에서 Microsoft Excel을 제어할 수 있는 노드 추가 (엑셀 열기/닫기, `execution_id` 기반 객체 관리, `excel_manager.py`를 통한 중앙화된 관리)
- **n8n 스타일 파라미터 선택 UI**: 이전 노드 출력 변수를 파라미터에 선택할 수 있는 UI 추가 (드롭다운 목록, 확장 버튼)
- **반복 노드 추가**: 지정한 횟수만큼 노드 블록을 반복 실행하는 로직 노드 추가 (반복 횟수 1~10000, 아래 연결점, 출력 연결점, 동적 위치 조정, 독립적인 연결 관리)
  - 반복 노드 실행 로직: 워크플로우 실행 엔진에서 반복 노드 처리
    - 반복 블록 정의: 반복 연결점에 연결된 첫 번째 노드부터 출력 연결을 따라가며 체인 구성 (끝 노드의 출력이 연결되지 않으면 거기서 종료)
    - 실행 아키텍처: 프론트엔드에서 각 반복마다 개별 API 요청을 보내어 실시간 UI 업데이트 제공, 서버는 단일 반복만 실행, 같은 `execution_id`로 그룹화
    - 메타데이터 전달: 반복 블록 내 각 노드에 `repeat_info` 메타데이터 추가 (`is_repeat_start`, `is_repeat_end`, `current_iteration`, `total_iterations` 등)
  - 반복 노드 예시 스크립트: 서버 최초 실행 시 반복 노드 테스트 예시 스크립트 자동 생성
- **다국어 지원 시스템**: 한국어와 영어 지원, 언어 설정 DB 저장, 모든 UI 요소 번역 적용, 실시간 언어 변경
  - i18n 유틸리티 모듈: `UI/src/js/utils/i18n.js`에 중앙화된 번역 시스템 구현 (`t()`, `setLanguage()`, `languageChanged` 이벤트)
  - UI 개선: Save 버튼 팝업 모달, 실행 완료 팝업 번역, CSS 변수를 통한 동적 텍스트 번역

### 기능 개선
- **노드 등록 자동화**: 새로운 노드를 추가할 때 수동으로 여러 파일을 수정해야 하던 불편함을 해소
  - `nodes/__init__.py`가 모든 서브모듈을 자동으로 스캔하여 노드를 감지하고 export
  - `action_service.py`가 시작 시 모든 노드 클래스를 자동으로 스캔하여 핸들러 등록
  - `action_node_types.py`의 `handler` 필드와 자동 매칭하여 `action_node_handlers`에도 등록
- **저장 알림 UI/UX 개선**: 저장 방식에 따라 다른 알림 방식 제공 (저장 버튼: 팝업 모달, Ctrl+S/자동 저장: 토스트 메시지)
- **대시보드 스크립트 재로드 기능**: 현재 포커스된 스크립트를 다시 클릭하면 노드 강제 재로드 (`forceReload` 플래그)
- **노드 설정 스키마 전달**: `nodes_config.py`의 `input_schema`와 `output_schema`가 클라이언트에 전달되도록 수정
- **노드 설정 변경 시 미리보기 즉시 업데이트**: 파라미터 변경 시 출력 미리보기가 자동으로 업데이트되도록 개선 (300ms debounce 적용)
- **출력 미리보기 개선**: 임의의 예시 값 대신 실제 노드 출력 스키마를 기반으로 의미있는 예시 값 생성
  - 필드명과 타입에 맞는 예시 값 자동 생성 (예: `file_path` → `"C:\\example\\path\\file.ext"`, `success` → `true`)
  - 각 노드의 실제 출력 형식 반영
- **스키마 기반 예시 값 생성 로직 개선**: `generatePreviewFromSchema` 함수 개선으로 더 정확한 미리보기 제공

### 개발자 경험 개선
- **노드 생성 프로세스 단순화**: 개발자가 새로운 노드를 만들 때 필요한 작업이 3가지로 축소
  1. `server/config/nodes_config.py`에 노드 설정 추가 (또는 `create-node.py` 스크립트 사용 시 자동 추가)
  2. `server/nodes/{카테고리}/{이름}.py`에 노드 클래스 생성 (또는 `create-node.py` 스크립트 사용 시 자동 생성)
  3. `UI/src/js/components/node/node-{이름}.js`에 JavaScript 렌더링 파일 생성 (또는 `create-node.py` 스크립트 사용 시 자동 생성)
- **완전 자동화된 등록**: 더 이상 다음 파일들을 수동으로 수정할 필요 없음
  - ❌ 서브모듈의 `__init__.py` 수정 불필요 (자동으로 노드 감지 및 로드)
  - ❌ `nodes/__init__.py` 수정 불필요 (자동으로 감지됨)
  - ❌ `action_service.py` 수정 불필요 (자동으로 핸들러 등록됨)
  - ❌ `nodes_config.py` 수정 불필요 (`create-node.py` 스크립트 사용 시 자동 추가)

### 기술적 변경사항
- **`NodeExecutor` 데코레이터 개선**: 래핑된 함수에 `action_name` 속성을 저장하여 자동 핸들러 등록 지원
- **서브모듈 `__init__.py` 자동화**: 각 서브모듈의 `__init__.py`가 `Path.glob()`과 `inspect`를 사용하여 해당 폴더의 모든 `.py` 파일을 스캔하고 `BaseNode`를 상속받은 클래스를 자동으로 찾아 import
- **`nodes/__init__.py` 자동화**: `pkgutil.iter_modules()`를 사용하여 모든 서브모듈을 자동으로 스캔하고 `__all__`에서 노드를 import
- **`action_service.py` 자동화**: `inspect.getmembers()`를 사용하여 모든 노드 클래스를 스캔하고 `@NodeExecutor` 데코레이터의 `action_name`을 추출하여 핸들러 자동 등록

### 개발 도구 추가
- **노드 생성 스크립트**: `scripts/create-node.py` 추가
  - 노드 이름, 카테고리, 설명을 입력받아 Python 및 JavaScript 템플릿 파일 자동 생성
  - `nodes_config.py`에 설정을 **자동으로 추가** (수동 추가 불필요)
  - 파일이 이미 존재해도 계속 진행하여 설정만 추가 가능
  - 새 카테고리 자동 생성 지원
  - JSON의 `true`/`false`를 Python의 `True`/`False`로 자동 변환
- **노드 삭제 스크립트**: `scripts/delete-node.py` 추가
  - 생성된 노드 파일들을 안전하게 삭제
  - Python 파일, JavaScript 파일, `nodes_config.py` 설정 자동 제거
  - 빈 카테고리 디렉토리 자동 정리
  - 확인 메시지 및 `--force` 옵션 제공
- **노드 검증 스크립트**: `scripts/validate-nodes.py` 추가
  - `nodes_config.py`와 실제 구현 파일의 일치 여부 검증
  - JavaScript 파일 존재 여부 확인 (`script` 필드의 실제 파일명 사용)
  - `@NodeExecutor`의 `action_name`과 노드 타입 일치 여부 확인
  - 경계 노드(예: `start`)는 Python 구현이 없어도 정상으로 처리
  - 개발 중 또는 배포 전에 노드 설정 오류를 사전에 발견 가능
- **서버 실행 스크립트**: `start-server.bat` 및 `start-server.ps1` 추가
  - 서버 실행을 간편하게 하는 배치 파일
  - 가상환경 자동 활성화 (`.venv` 또는 `venv` 자동 감지)
  - Python 설치 여부 확인
  - 더블클릭 또는 명령어로 간단하게 서버 실행 가능

### 문서 업데이트
- `docs/dev/creating-nodes-python.md` 업데이트: 자동 등록 기능에 대한 설명 추가 및 개발자 가이드 개선
- 노드 생성 스크립트 사용법 추가
- 노드 검증 스크립트 사용법 추가

### 제거된 사항
- **종료 노드 관련 로직 제거**: 종료 노드는 더 이상 사용되지 않으므로 모든 관련 코드 제거
  - 클라이언트 측 종료 노드 필터링 로직 제거
  - 서버 측 예시 데이터에서 종료 노드 제거 (`server/db/database.py`, `server/db/node_repository.py`, `server/seed_nodes.py`)
  - 종료 노드 관련 주석 및 로직 정리
- **병렬 실행 기능 제거**: 미구현 상태였던 병렬 실행 기능 완전 제거 (설정 UI, 서버 로직, 번역 키 등 모든 관련 코드 제거)

### 버그 및 오류 수정
- **condition 노드 중복 로그 문제 해결**: condition 노드에서 "완료"와 "실행 중" 로그가 동시에 표시되는 문제 수정
  - `completed`/`failed` 로그 저장 시 이미 `completed`/`failed` 로그가 있으면 `running` 로그 생성 방지
  - `running` 로그 저장 시 이미 `completed`/`failed` 로그가 있으면 생성하지 않고 기존 로그 반환
  - 트랜잭션 내에서 중복 로그 삭제 로직 단순화
- **`create-node.py`**: JSON의 `true`/`false`를 Python의 `True`/`False`로 자동 변환하여 Python 문법 오류 방지
- **`validate-nodes.py`**: JavaScript 파일 확인 시 `script` 필드의 실제 파일명을 사용하도록 수정
- **`validate-nodes.py`**: 경계 노드는 Python 구현이 없어도 정상으로 처리하도록 개선
- **mypy 타입 체크**: `pkgutil.iter_modules`의 타입 스텁 문제로 인한 에러를 `pyproject.toml`에서 전역적으로 무시하도록 설정
- **번역 키 표시 문제 해결**: 번역 키가 그대로 표시되던 문제 해결 (기본값 사용, `summaryLabel` 처리 개선)
- **초기 로드 시 언어 미적용 문제 해결**: 페이지 로드 시 언어 설정이 적용되지 않던 문제 해결 (`setLanguage()`의 `silent` 모드 활용)
- **엑셀 열기 노드 출력에 execution_id 누락 문제 해결**: `nodes_config.py`의 `output_schema`에 `execution_id` 필드 추가
- **`loop` 노드 출력 스키마 추가**: 누락되었던 `loop` 노드의 `input_schema`와 `output_schema` 추가
- **`start` 노드 출력 스키마 개선**: `output` 필드를 `any` 타입에서 `object` 타입으로 변경하여 더 구체적인 미리보기 제공

### 린팅 및 타입 체크 개선
- **`lint-all.bat`**: mypy 타입 체크 단계 추가 (5단계 중 3단계)
  - mypy가 설치되어 있지 않으면 경고 후 다음 단계로 진행
  - Python과 JavaScript 린팅을 한 번에 실행할 수 있는 통합 스크립트
- **`pyproject.toml`**: mypy 설정에 `assignment` 에러 코드를 `disable_error_code`에 추가
  - 표준 라이브러리 함수의 타입 스텁 문제로 인한 할당 타입 불일치 에러를 전역적으로 무시

### 스크린샷 기능 개선
- **스크린샷 캡처 위치 변경**: JS 클라이언트에서 Python 서버로 변경 (실제 화면 캡처)
- **스크린샷 API 파일 이동**: `UI/src/js/utils/screenshot.js` → `UI/src/js/api/screenshot-api.js`
- **시작 노드 실행 개선**: 시작 노드도 다른 노드와 동일하게 실행되도록 변경 (스크린샷 자동 캡처 포함)
- **DB 초기화 시 스크린샷 기본 설정 자동 추가**: 새 DB 생성 시 스크린샷 기본 설정 자동 저장

### 로깅 시스템 개선
- **중복 로그 제거**: API 호출 관련 중복 로그 제거 (`UserSettingsAPI`, `ScriptAPI`, `LogAPI`)

### 대시보드 통계 개선
- **전체 실행 통계 실시간 업데이트**: 전체 실행 시 각 스크립트 종료 후 즉시 통계 업데이트
  - 전체 실행 시작 시 통계를 0으로 초기화
  - 각 스크립트 실행 완료 후 즉시 서버에 API 요청하여 전체 실행 횟수 +1 카운트
  - 성공/실패 여부에 따라 실패 카운트도 즉시 업데이트
  - 서버 응답 후 UI에 즉시 반영 (다음 스크립트 실행 전)
  - 서버 API 추가: `/api/dashboard/increment-execution` (실행 횟수 증가), `/api/dashboard/reset-execution-stats` (통계 초기화)
- **스크립트 활성/비활성 토글 시 통계 초기화 방지**: `calculateStats()`에서 전체 실행 통계를 0으로 초기화하지 않도록 수정
  - 스크립트 활성/비활성 토글 시 서버에서 통계를 다시 로드하여 기존 값 유지
  - `toggleScriptActive()`에서 `loadDashboardStats()` 호출 추가

### 코드 정리
- **레거시 코드 제거**: deprecated 함수 및 레거시 특수 설정 처리 코드 제거 (`action-node-types.js`, `node-settings-modal.js`, `add-node-modal.js`)
- **중복 로직 제거**: 중복된 폴더 선택 버튼 이벤트 리스너 코드 정리, 파라미터 폼 기반으로 통일
- **대시보드 코드 중복 제거**: 스크립트 카드 찾기 로직을 헬퍼 함수로 통합
  - `findScriptCard()` 헬퍼 함수 추가로 중복 코드 제거
  - `setScriptRunning()`과 `setScriptStatus()`에서 공통 로직 재사용
  - 코드 가독성 및 유지보수성 향상
- **로그 리포지토리 코드 단순화**: `node_execution_log_repository.py`의 중복 확인 절차 제거 및 로직 최적화
  - 불필요한 커밋 후 재확인 로직 제거
  - 상태별 분기 처리 명확화
  - 코드 라인 수 약 50% 감소 (240줄 → 120줄)
- **사용되지 않는 CSS 클래스 제거**: `settings-notification` 클래스 제거 (ToastManager 사용으로 대체)
- **중복 코드 제거**: `showSaveNotification` 메서드의 폴백 코드 제거, ToastManager만 사용하도록 단순화
- **디버그 코드 정리**: 프로덕션 환경에서 불필요한 디버그 로그 제거 (총 9개 `console.log`/`console.warn` 제거)

### UI/UX 개선
- **엑셀 닫기 노드 개선**: 파라미터 기본값 자동 설정 (`output.data.execution_id`), "변경사항 저장" 기본값 `True`로 변경, 노드 생성 시 execution_id 필드 표시
- **반복 노드 UI 개선**: 반복 횟수 표시, 아래 연결점 동적 배치, 출력 연결점 표준 위치
- **실시간 UI 업데이트**: 각 반복마다 반복 노드와 반복 블록 내 노드들이 실시간으로 실행 중 상태 표시, 반복 완료 시 상태 리셋
- **연결 삭제 피드백 개선**: 반복 노드의 아래 연결점 삭제 시 라벨 텍스트 색상 변경 방지

### 데이터베이스 초기화 개선
- **엑셀 테스트 스크립트에 엑셀 닫기 노드 추가**: DB 초기화 시 엑셀 열기-닫기 워크플로우 예시 제공

### 다국어 지원
- **반복 노드 다국어 지원**: 반복 노드의 모든 텍스트가 언어 설정에 따라 자동 번역 (한국어/영어)
